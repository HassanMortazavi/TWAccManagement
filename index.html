<!DOCTYPE html> 
<html lang="fa">
<head> 
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>ÙˆÛŒØ±Ø§ÛŒØ´ ÙØ§ÛŒÙ„ Ø¯Ø±Ø§Ù¾â€ŒØ¨Ø§Ú©Ø³</title> 
</head> 
<body> 
    <h2>Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† "Ø³Ù„Ø§Ù…" Ø¨Ù‡ Ø§Ù†ØªÙ‡Ø§ÛŒ ÙØ§ÛŒÙ„ Ø¯Ø±Ø§Ù¾â€ŒØ¨Ø§Ú©Ø³</h2> 
    <button onclick="appendToFile()">Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†</button> 
    <script> 
        const accessToken = "YOUR_ACCESS_TOKEN"; // ğŸ”´ ØªÙˆÚ©Ù† Ø¯Ø±Ø§Ù¾â€ŒØ¨Ø§Ú©Ø³ Ø±Ùˆ Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ø°Ø§Ø± 
        const filePath = "/test.txt"; // ğŸ”µ Ù…Ø³ÛŒØ± ÙØ§ÛŒÙ„ Ø¯Ø± Ø¯Ø±Ø§Ù¾â€ŒØ¨Ø§Ú©Ø³ 
        async function appendToFile() { 
            try { 
                // Û±ï¸âƒ£ Ø®ÙˆØ§Ù†Ø¯Ù† Ù…Ø­ØªÙˆØ§ÛŒ ÙØ¹Ù„ÛŒ ÙØ§ÛŒÙ„ 
                let getFileUrl = "https://content.dropboxapi.com/2/files/download"; 
                let getFileResponse = await fetch(getFileUrl, { 
                    method: "POST", 
                    headers: { 
                        "Authorization": `Bearer ${accessToken}`, 
                        "Dropbox-API-Arg": JSON.stringify({ "path": filePath }) 
                    } 
                }); 
                if (!getFileResponse.ok) { 
                    throw new Error("Ø®Ø·Ø§ Ø¯Ø± Ø®ÙˆØ§Ù†Ø¯Ù† ÙØ§ÛŒÙ„: " + await getFileResponse.text());
                } 
                let currentContent = await getFileResponse.text(); // Ù…Ø­ØªÙˆØ§ÛŒ Ù‚Ø¨Ù„ÛŒ 
                let newContent = currentContent + "\nsalam"; 
                let uploadUrl = "https://content.dropboxapi.com/2/files/upload"; 
                let uploadResponse = await fetch(uploadUrl, { 
                    method: "POST", 
                    headers: { 
                        "Authorization": `Bearer ${accessToken}`, 
                        "Dropbox-API-Arg": JSON.stringify({ 
                            "path": filePath, 
                            "mode": "overwrite" 
                        }), 
                        "Content-Type": "application/octet-stream" 
                    }, 
                    body: newContent 
                }); 
                if (!uploadResponse.ok) { 
                    throw new Error("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡ ÙØ§ÛŒÙ„: " + await uploadResponse.text());
                } 
                alert("âœ… Ù…ØªÙ† 'Ø³Ù„Ø§Ù…' Ø¨Ù‡ ÙØ§ÛŒÙ„ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯!");
            } catch (error) { 
                alert("âŒ Ø®Ø·Ø§: " + error.message);
            } 
        } 
    </script> 
</body> 
</html>
